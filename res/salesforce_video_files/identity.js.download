var ne=Object.create;var D=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var re=Object.getOwnPropertyNames;var se=Object.getPrototypeOf,ae=Object.prototype.hasOwnProperty;var s=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var le=(e,t,n,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of re(t))!ae.call(e,r)&&r!==n&&D(e,r,{get:()=>t[r],enumerable:!(o=oe(t,r))||o.enumerable});return e};var w=(e,t,n)=>(n=e!=null?ne(se(e)):{},le(t||!e||!e.__esModule?D(n,"default",{value:e,enumerable:!0}):n,e));var y=s(i=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});i.joinPath=i.splitPath=void 0;var b="/",ue=e=>e?e.trim().split(b).filter(t=>!!t):[];i.splitPath=ue;var ge=(...e)=>{let t=`${b}${e.reduce((o,r)=>[...o,...(0,i.splitPath)(r)],[]).join(b)}`,n=e[e.length-1];return e&&n.endsWith(b)&&(t+=b),t};i.joinPath=ge});var S=s((Xe,de)=>{de.exports={us:{loc:"us",lang:"en"},ca:{loc:"ca",lang:"en"},fr:{loc:"fr",lang:"fr"},"fr-ca":{loc:"ca",lang:"fr"},"fr-ch":{loc:"ch",lang:"fr"},uk:{loc:"gb",lang:"en"},de:{loc:"de",lang:"de"},"de-ch":{loc:"ch",lang:"de"},es:{loc:"es",lang:"es"},it:{loc:"it",lang:"it"},nl:{loc:"nl",lang:"nl"},"nl-be":{loc:"nl",lang:"be"},se:{loc:"se",lang:"sv"},eu:{loc:"eu",lang:"en"},mx:{loc:"mx",lang:"es"},br:{loc:"br",lang:"pt"},au:{loc:"au",lang:"en"},in:{loc:"in",lang:"en"},jp:{loc:"jp",lang:"ja"},kr:{loc:"kr",lang:"ko"},th:{loc:"th",lang:"th"},tw:{loc:"tw",lang:"zh"},hk:{loc:"hk",lang:"zh"},cn:{loc:"cn",lang:"zh"},my:{loc:"my",lang:"en"},ap:{loc:"ap",lang:"en"},latam:{loc:"latam",lang:"es"},no:{loc:"no",lang:"no"},dk:{loc:"dk",lang:"da"},pl:{loc:"pl",lang:"pl"},tr:{loc:"tr",lang:"tr"},fi:{loc:"fi",lang:"fi"},ch:{loc:"ch",lang:""}}});var N=s(d=>{"use strict";var pe=d&&d.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(d,"__esModule",{value:!0});d.UrlLocale=void 0;var he=y(),T=pe(S()),F="us",O=class{constructor(t){if(this.langLoc="",this.urlLoc="",this.basePath="",this.loc="",this.lang="",this.segs=[],this.setBasePath=()=>{this.loc!==F&&this.segs.splice(0,1),this.basePath=`/${this.segs.join("/")}`},!t)return;this.segs=(0,he.splitPath)(t),this.urlLoc=this.segs.length&&this.segs[0]in T.default?this.segs[0]:F;let n=Object.assign(T.default[this.urlLoc]);this.lang=n.lang,this.loc=n.loc,this.langLoc=`${this.lang}-${this.loc}`,this.setBasePath()}};d.UrlLocale=O});var M=s(l=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});l.joinPath=l.splitPath=l.UrlLocale=void 0;var fe=N();Object.defineProperty(l,"UrlLocale",{enumerable:!0,get:function(){return fe.UrlLocale}});var G=y();Object.defineProperty(l,"splitPath",{enumerable:!0,get:function(){return G.splitPath}});Object.defineProperty(l,"joinPath",{enumerable:!0,get:function(){return G.joinPath}})});var B=s(j=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});var C=M();j.default=e=>{let t;if(e===void 0||typeof e=="string"){let o=globalThis.sfdcBase||{};if(!e&&!me(o.page))return o.page.pagename;t=new C.UrlLocale(e||location.pathname)}else t=e;return[...["SFDC",t.urlLoc],...t.basePath==="/"?["homepage"]:(0,C.splitPath)(t.basePath)].join(":")};var me=e=>!e||e instanceof Object&&!Object.keys(e).length});var $=s(L=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0});L.default=e=>e.endsWith("homepage")?"Home Page":"Other Page"});var z=s(u=>{"use strict";var k=u&&u.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(u,"__esModule",{value:!0});u.getPageName=void 0;var q=k(B());u.getPageName=q.default;var Pe=k($());u.default=(e,t)=>{let n=e.reqLocale,o=(0,q.default)(e.reqLocale),r=(0,Pe.default)(o);return{pagename:o,type:r,locale:n.urlLoc,segment:`${t==="customer"?t:"non-customer"}:${n.urlLoc}`,sitesection:(()=>{let f=o.split(":");return`${n.urlLoc}:${f.length>2?f[2]:"other"}`})(),uiframework:e.expRendererLabel}}});var I=s(g=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});g.joinPath=g.splitPath=void 0;var v="/",Ie=e=>e?e.trim().split(v).filter(t=>!!t):[];g.splitPath=Ie;var xe=(...e)=>{let t=`${v}${e.reduce((o,r)=>[...o,...(0,g.splitPath)(r)],[]).join(v)}`,n=e[e.length-1];return e&&n.endsWith(v)&&(t+=v),t};g.joinPath=xe});var V=s((ct,De)=>{De.exports={us:{loc:"us",lang:"en"},ca:{loc:"ca",lang:"en"},fr:{loc:"fr",lang:"fr"},"fr-ca":{loc:"ca",lang:"fr"},"fr-ch":{loc:"ch",lang:"fr"},uk:{loc:"gb",lang:"en"},de:{loc:"de",lang:"de"},"de-ch":{loc:"ch",lang:"de"},es:{loc:"es",lang:"es"},it:{loc:"it",lang:"it"},nl:{loc:"nl",lang:"nl"},"nl-be":{loc:"nl",lang:"be"},se:{loc:"se",lang:"sv"},eu:{loc:"eu",lang:"en"},mx:{loc:"mx",lang:"es"},br:{loc:"br",lang:"pt"},au:{loc:"au",lang:"en"},in:{loc:"in",lang:"en"},jp:{loc:"jp",lang:"ja"},kr:{loc:"kr",lang:"ko"},th:{loc:"th",lang:"th"},tw:{loc:"tw",lang:"zh"},hk:{loc:"hk",lang:"zh"},cn:{loc:"cn",lang:"zh"},my:{loc:"my",lang:"en"},ap:{loc:"ap",lang:"en"},latam:{loc:"latam",lang:"es"},no:{loc:"no",lang:"no"},dk:{loc:"dk",lang:"da"},pl:{loc:"pl",lang:"pl"},tr:{loc:"tr",lang:"tr"},fi:{loc:"fi",lang:"fi"},ch:{loc:"ch",lang:""}}});var X=s(h=>{"use strict";var we=h&&h.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(h,"__esModule",{value:!0});h.UrlLocale=void 0;var Ue=I(),Y=we(V()),K="us",x=class{constructor(t){if(this.langLoc="",this.urlLoc="",this.basePath="",this.loc="",this.lang="",this.segs=[],this.setBasePath=()=>{this.loc!==K&&this.segs.splice(0,1),this.basePath=`/${this.segs.join("/")}`},!t)return;this.segs=(0,Ue.splitPath)(t),this.urlLoc=this.segs.length&&this.segs[0]in Y.default?this.segs[0]:K;let n=Object.assign(Y.default[this.urlLoc]);this.lang=n.lang,this.loc=n.loc,this.langLoc=`${this.lang}-${this.loc}`,this.setBasePath()}};h.UrlLocale=x});var Z=s(c=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});c.joinPath=c.splitPath=c.UrlLocale=void 0;var Se=X();Object.defineProperty(c,"UrlLocale",{enumerable:!0,get:function(){return Se.UrlLocale}});var Q=I();Object.defineProperty(c,"splitPath",{enumerable:!0,get:function(){return Q.splitPath}});Object.defineProperty(c,"joinPath",{enumerable:!0,get:function(){return Q.joinPath}})});var P=globalThis.sfdcBase||{};var qe=!!(P.env&&P.env.toLowerCase()==="prod");var U=e=>{let t=localStorage.getItem(e);try{t=JSON.parse(t)}catch{}return t??""};var ce="webactls";globalThis.digitalData=globalThis.digitalData||{page:{},user:[{}],localStorage:{...U(ce)||{}},util:{}};globalThis.digitalData.timestamp=globalThis.digitalData.timestamp||new Date().getTime();var ie=globalThis.digitalData;var Te=w(z());var p={WARN:"warn",INFO:"info",DEBUG:"debug",DEPRECATE:"deprecate"},be="client-libs-debug",W=async(e,...t)=>{let n=sessionStorage.getItem(be),o=n==="mute";if(!t.length||o)return;let r=console,f="trace",m;switch(e){case p.DEPRECATE:m=r[f],t=`${t} has been deprecated. Please update or remove reference`;break;case p.DEBUG:n&&!o&&(m=r[f]);break;case p.INFO:case p.WARN:m=r[e];break}typeof m=="function"&&m(t)};var ve="https://a.sfdcstatic.com",_e="/digital/@sfdc-www/clientlibs-web-components",ye="v1",Oe="gdpr.js",je="v1",Le="/digital/one-trust/ext";var A="analytics.js";var H={QA:"latest",UAT:"stage",PROD:"stable",DEV:"latest",INT:"stage",HOTFIX:"stable",ONBOARD:"stable"},J="Could not import module URL: ",R=P.env||"",Re=R&&H[R]?H[R]:"stable",Ae={ver:ye,path:_e,envTag:Re},Ee=(e,t)=>{if(e)try{t={...Ae,...t};let n=t.verDir||`${t.ver}-${t.envTag}`,o=new URL(t.path,ve);return o.pathname+=`/${[n,e].join("/")}`,o.toString()}catch{}},_=(e,t)=>{let n=Ee(e,t);return n?import(n).catch(o=>{W(p.WARN,`${J} ${n}`)}):Promise.reject(`${J} ${e}`)},E=_(Oe,{ver:je,path:Le});var ee=w(Z());var te="digital-identity-attributes",Fe=async()=>_(A).then(e=>e.getGACID()),Ne=async()=>{let e=await _(A);return e.getUserProfile(e.USER_PROFILES.TB)},Ge=async()=>{let e=await E;return await e.onGdprReady.then(()=>e.isActiveGroup(e.OT_FUNCTIONAL))},Me=async()=>{let e=await E;return await e.onGdprReady.then(()=>e.isActiveGroup(e.OT_ADVERTISING))},a={gacIdResolver:Fe,tbidUserInfoResolver:Ne,gdprFunctionalResolver:Ge,gdprAdvertisingResolver:Me},vt=e=>{a.gacIdResolver=e},_t=e=>{a.tbidUserInfoResolver=e},yt=e=>{a.gdprFunctionalResolver=e},Ot=e=>{a.gdprAdvertisingResolver=e},jt=async()=>a.gacIdResolver(),Lt=async()=>a.tbidUserInfoResolver(),Rt=async()=>a.gdprFunctionalResolver(),At=async()=>a.gdprAdvertisingResolver(),Ce=(e,t)=>t??e;typeof window<"u"&&(a=window[te]=Ce(a,window[te]));export{jt as getGacId,Lt as getTbidUserInfo,Ce as initializeState,At as isGdprAdvertising,Rt as isGdprFunctional,vt as setGacIdResolver,Ot as setGdprAdvertisingResolver,yt as setGdprFunctionalResolver,_t as setTbidUserInfoResolver};
//# sourceMappingURL=identity.js.map
